(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{217:function(t,n,e){"use strict";e.r(n);var r={name:"navbar",data:function(){return{connected:!1}},props:["page"],methods:{logout:function(){localStorage.removeItem("jwt"),window.location="/"}},created:function(){null!=localStorage.getItem("jwt")&&(this.connected=!0)}},o=e(23),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"center"},[e("vs-navbar",{attrs:{square:"","text-white":"",fixed:"",color:"dark"},scopedSlots:t._u([{key:"left",fn:function(){return[t._v("\n      My CRUD client\n    ")]},proxy:!0},{key:"right",fn:function(){return[e("vs-button",{attrs:{relief:"",success:"",id:"login",to:"/account"}},[t._v("Login")]),t._v(" "),e("vs-button",{attrs:{relief:"",danger:"",id:"logout"},on:{click:t.logout}},[t._v("Logout")])]},proxy:!0}])},[t._v(" "),e("vs-navbar-item",{attrs:{active:"home"==t.page,id:"home",to:"/"}},[t._v("\n      Home\n    ")]),t._v(" "),e("vs-navbar-item",{attrs:{active:"tasks"==t.page,id:"tasks",to:"/tasks"}},[t._v("\n      Tasks\n    ")])],1)],1)}),[],!1,null,null,null);n.default=component.exports},221:function(t,n,e){"use strict";e.r(n);e(33),e(59),e(32);var r=e(6),o={name:"LoginForm",data:function(){return{usernameInput:"",passwordInput:""}},methods:{login:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t,n.next=3,t.$axios.$post("/api/auth/signin",{username:t.usernameInput,password:t.passwordInput}).then((function(t){console.log(t),localStorage.setItem("jwt",t.accessToken),e.$nuxt.$router.replace({path:"/"})})).catch((function(t){console.log(t),e.error="login or password incorrect."}));case 3:case"end":return n.stop()}}),n)})))()}}},l=e(23),component=Object(l.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content-inputs"},[e("vs-input",{staticClass:"mb-4",staticStyle:{"margin-bottom":"20px"},attrs:{label:"Username",placeholder:""},model:{value:t.usernameInput,callback:function(n){t.usernameInput=n},expression:"usernameInput"}}),t._v(" "),e("vs-input",{staticClass:"mb-4",staticStyle:{"margin-bottom":"20px"},attrs:{type:"password",label:"Password",placeholder:""},model:{value:t.passwordInput,callback:function(n){t.passwordInput=n},expression:"passwordInput"}}),t._v(" "),e("vs-button",{attrs:{flat:"",dark:""},on:{click:t.login}},[t._v("\n    Login\n  ")])],1)}),[],!1,null,"3db98a7f",null);n.default=component.exports},222:function(t,n,e){"use strict";e.r(n);e(33),e(59),e(32);var r=e(6),o={name:"signupForm",data:function(){return{usernameInput:"",emailInput:"",passwordInput:""}},methods:{signup:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t,n.next=3,t.$axios.$post("/api/auth/signup",{username:t.usernameInput,email:t.emailInput,password:t.passwordInput,roles:["user"]}).then((function(){e.$nuxt.$router.replace({path:"/"})})).catch((function(t){console.log(t),e.error="signup error"}));case 3:case"end":return n.stop()}}),n)})))()}}},l=e(23),component=Object(l.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content-inputs"},[e("vs-input",{staticClass:"mb-4",staticStyle:{"margin-bottom":"20px"},attrs:{label:"Username",placeholder:""},model:{value:t.usernameInput,callback:function(n){t.usernameInput=n},expression:"usernameInput"}}),t._v(" "),e("vs-input",{staticClass:"mb-4",staticStyle:{"margin-bottom":"20px"},attrs:{label:"Email",placeholder:""},model:{value:t.emailInput,callback:function(n){t.emailInput=n},expression:"emailInput"}}),t._v(" "),e("vs-input",{staticClass:"mb-4",staticStyle:{"margin-bottom":"20px"},attrs:{type:"password",label:"Password",placeholder:""},model:{value:t.passwordInput,callback:function(n){t.passwordInput=n},expression:"passwordInput"}}),t._v(" "),e("vs-button",{attrs:{flat:"",dark:""},on:{click:t.signup}},[t._v("\n    Signup\n  ")])],1)}),[],!1,null,"3c4f1f0e",null);n.default=component.exports},235:function(t,n,e){"use strict";e.r(n);var r=e(217),o=e(221),l={name:"account",components:{SignupForm:e(222).default,LoginForm:o.default,Navbar:r.default}},c=e(23),component=Object(c.a)(l,(function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"grid",staticStyle:{"margin-top":"100px"}},[n("vs-row",[n("navbar",{attrs:{page:"account"}})],1),this._v(" "),n("vs-row",{attrs:{justify:"center"}},[n("vs-col",{attrs:{w:"2"}},[n("h5",{staticStyle:{"margin-bottom":"20px"}},[this._v("Login")]),this._v(" "),n("LoginForm")],1),this._v(" "),n("vs-col",{attrs:{w:"2"}},[n("h5",{staticStyle:{"margin-bottom":"20px"}},[this._v("Signup")]),this._v(" "),n("SignupForm")],1)],1)],1)}),[],!1,null,"7d60db9a",null);n.default=component.exports;installComponents(component,{Navbar:e(217).default,LoginForm:e(221).default,SignupForm:e(222).default})}}]);